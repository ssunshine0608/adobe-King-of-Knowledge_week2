<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<title>Adobe çŸ¥è­˜ç‹æŒ‘æˆ°è³½ï½œWeek 2</title>

<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>

<style>
html,body,#root{
  margin:0;height:100%;background:#0b1020;overflow:hidden;
}
.q-card{will-change:transform,opacity;transform:translateZ(0)}
.q-enter{animation:enter 520ms cubic-bezier(.22,.92,.18,1) both}
@keyframes enter{
  from{opacity:0;transform:translate3d(0,-22%,0)}
  to{opacity:1;transform:translate3d(0,0,0)}
}
.q-exit{animation:exit 300ms ease-out both}
@keyframes exit{
  from{opacity:1;transform:translate3d(0,0,0)}
  to{opacity:0;transform:translate3d(-30%,0,0)}
}
.btn-orange{
  background:linear-gradient(90deg,#f59e0b,#f97316);
  color:#fff;
  text-shadow:0 1px 2px rgba(0,0,0,.35);
}
</style>
</head>

<body>
<div id="root"></div>

<script type="text/babel">
const CDN="https://cdn.jsdelivr.net/gh/ssunshine0608/adobe-King-of-Knowledge_week2@main/";
const LINE_BOT_ID="@your_bot_id";

const QUESTIONS=[
 {img:"q1.jpg",ans:2},
 {img:"q2.jpg",ans:1},
 {img:"q3.jpg",ans:3},
 {img:"q4.jpg",ans:0},
 {img:"q5.jpg",ans:0},
];

function App(){
 const [state,setState]=React.useState("cover");
 const [i,setI]=React.useState(0);
 const [score,setScore]=React.useState(0);
 const [anim,setAnim]=React.useState("enter");

 const answer=(n)=>{
   if(n===QUESTIONS[i].ans) setScore(s=>s+20);
   setAnim("exit");
   setTimeout(()=>{
     if(i===QUESTIONS.length-1) setState("result");
     else{ setI(i+1); setAnim("enter"); }
   },300);
 };

 if(state==="cover"){
   return(
     <div className="h-full flex items-center justify-center px-6">
       <img src={CDN+"fengmian.jpg"}
            className="rounded-xl"
            onClick={()=>setState("play")} />
     </div>
   );
 }

 if(state==="result"){
   return(
     <div className="h-full flex flex-col items-center justify-center text-white px-6 text-center">
       <div className="text-6xl font-black mb-4">{score} åˆ†</div>
       {score===100?(
         <button className="btn-orange px-6 py-4 rounded-2xl text-lg font-bold">
           ğŸ åˆ†äº«ä¸¦é ˜å–çå‹µ
         </button>
       ):(
         <>
           <div className="opacity-70 mb-4">å¿…é ˆé”åˆ° 100 åˆ†æ‰èƒ½è§£é–çå‹µ</div>
           <button onClick={()=>location.reload()}
                   className="bg-white/20 px-6 py-3 rounded-xl">
             å†ç©ä¸€æ¬¡
           </button>
         </>
       )}
     </div>
   );
 }

 return(
   <div className="h-full flex items-center justify-center px-4">
     <div className={"q-card "+(anim==="enter"?"q-enter":"q-exit")}>
       <img src={CDN+QUESTIONS[i].img} className="rounded-xl" />
       <div className="absolute inset-0 grid grid-cols-2 grid-rows-2">
         {[0,1,2,3].map(n=><div key={n} onClick={()=>answer(n)} />)}
       </div>
     </div>
   </div>
 );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>
</body>
</html>
